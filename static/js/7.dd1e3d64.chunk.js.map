{"version":3,"sources":["pages/Information/index.tsx"],"names":["columns","title","dataIndex","key","width","render","type","color","PRODUCT_TYPE","text","status","observer","props","userinfo","useContext","stores","loading","openLoading","closeLoading","state","useLocalStore","dataSource","useEffect","query","a","axios","get","params","id","merchantId","account","product","gutter","xs","span","xl","hoverable","bodyStyle","height","marginBottom","bordered","className","overflow","rowKey","expandedRowRender","record","roadList","road","data","i","length","push","size","pagination","expandRowByClick","placement","arrowPointAtCenter","extra","itemLayout","map","el","name","renderItem","item","Item","Meta","avatar","style","backgroundColor","randomColor","href","description"],"mappings":"gbAUMA,EAAU,CACd,CAAEC,MAAO,iBAAQC,UAAW,YAAaC,IAAK,YAAaC,MAAO,SAClE,CACEH,MAAO,2BACPC,UAAW,cACXC,IAAK,cACLE,OAAQ,SAACC,GACP,OACE,8BACE,mBACEC,MACG,CACC,GAAI,QACJ,GAAI,OACJ,GAAI,OACJ,GAAI,MACJ,GAAI,UACuBD,GARjC,SAWGE,IAAaF,SAMxB,CACEL,MAAO,qBACPC,UAAW,SACXC,IAAK,SACLC,MAAO,QACPC,OALF,SAKSI,GACL,OAAOA,EACL,mBAAOC,OAAO,aAAaD,KAAK,uBAEhC,mBAAOC,OAAO,QAAQD,KAAK,0BAsNpBE,uBA3MuB,SAAAC,GACpC,IAAQC,EAAaC,qBAAWC,KAAxBF,SACR,EAA+CC,qBAAWC,KAAlDC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,YAAaC,EAA9B,EAA8BA,aACxBC,EAAQC,aACZ,iBACG,CACCC,WAAY,OAIlBC,qBAAU,WACRC,MAEC,IAEH,IAAMA,EAAK,uCAAG,sBAAAC,EAAA,6DACZP,IADY,SAEaQ,IAAMC,IAAI,2BAA4B,CAC7DC,OAAQ,CACNC,GAAIf,EAASgB,cAJL,OAEZV,EAAME,WAFM,OAOZH,IAPY,2CAAH,qDAkDX,EAAqCC,EAAME,WAA3C,IAAMS,eAAN,MAAgB,GAAhB,MAAoBC,eAApB,MAA8B,GAA9B,EAEA,OACE,gCACE,oBAAKC,OAAQ,GAAb,UACE,mBAAKC,GAAI,CAAEC,KAAM,IAAMC,GAAI,CAAED,KAAM,IAAnC,SACE,oBACEE,WAAS,EACTC,UAAW,CAAEC,OAAQ,QAASC,aAAc,QAC5CtC,MAAM,iCACNuC,UAAU,EACVxB,QAASA,EALX,UAOE,8BACE,sBAAMyB,UAAU,QAAhB,kDACA,sBAAMA,UAAU,QAAhB,8BAEF,8BACE,sBAAMA,UAAU,QAAhB,kDACA,sBAAMA,UAAU,QAAhB,yCAEF,8BACE,sBAAMA,UAAU,QAAhB,sCACA,sBAAMA,UAAU,QAAhB,6BAEF,8BACE,sBAAMA,UAAU,QAAhB,4CACA,sBAAMA,UAAU,QAAhB,2BAIN,mBAAKR,GAAI,CAAEC,KAAM,IAAMC,GAAI,CAAED,KAAM,IAAnC,SACE,oBACEE,WAAS,EACTC,UAAW,CAAEC,OAAQ,QAASC,aAAc,QAC5CtC,MAAM,iCACNuC,UAAU,EACVxB,QAASA,EALX,UAOE,8BACE,sBAAMyB,UAAU,QAAhB,sCACA,sBAAMA,UAAU,QAAhB,mCAEF,8BACE,sBAAMA,UAAU,QAAhB,sCACA,sBAAMA,UAAU,QAAhB,oBAEF,8BACE,sBAAMA,UAAU,QAAhB,sCACA,sBAAMA,UAAU,QAAhB,oBAEF,8BACE,sBAAMA,UAAU,QAAhB,gCACA,sBAAMA,UAAU,QAAhB,yCAEF,8BACE,sBAAMA,UAAU,QAAhB,gCACA,sBAAMA,UAAU,QAAhB,yCAEF,8BACE,sBAAMA,UAAU,QAAhB,kDACA,sBAAMA,UAAU,QAAhB,4BAKR,oBAAKT,OAAQ,GAAb,UACE,mBAAKC,GAAI,CAAEC,KAAM,IAAMC,GAAI,CAAED,KAAM,IAAnC,SACE,mBACEE,WAAS,EACTK,UAAU,eACVJ,UAAW,CAAEE,aAAc,OAAQG,SAAU,QAC7CzC,MAAM,2BACNuC,UAAU,EACVxB,QAASA,EANX,SAQE,mBACE2B,OAAO,YACP3C,QAASA,EACT4C,kBAvHc,SAACC,GA0BzB,IAzBA,IAAM7C,EAAU,CACd,CACEC,MAAO,2BACPC,UAAW,WACXC,IAAK,WACLC,MAAO,SAET,CAAEH,MAAO,2BAAQC,UAAW,OAAQC,IAAK,QACzC,CACEF,MAAO,eACPC,UAAW,SACXC,IAAK,SACLC,MAAO,QACPC,OALF,SAKSI,GACL,OAAOA,EACL,mBAAOC,OAAO,aAAaD,KAAK,uBAEhC,mBAAOC,OAAO,QAAQD,KAAK,0BAM7BqC,EAAWD,EAAOE,KAClBC,EAAO,GACJC,EAAI,EAAGA,EAAIH,EAASI,SAAUD,EACrCD,EAAKG,KAAKL,EAASG,IAErB,OACE,mBACEN,OAAO,WACPS,KAAK,SACLpD,QAASA,EACTqB,WAAY2B,EACZK,YAAY,KAqFNhC,WAAYU,EACZsB,YAAY,EACZD,KAAK,SACLE,kBAAkB,QAIxB,mBAAKrB,GAAI,CAAEC,KAAM,IAAMC,GAAI,CAAED,KAAM,GAAnC,SACE,mBACEE,WAAS,EACTC,UAAW,CAAEE,aAAc,OAAQG,SAAU,QAC7CzC,MACE,gCACE,gDADF,OAGE,mBAASsD,UAAU,UAAUtD,MAAM,+DAAauD,oBAAkB,EAAlE,SACE,mBAAMlD,KAAK,2BAIjBmD,MAAO,mBAAQnD,KAAK,OAAb,0BACPkC,UAAU,EACVxB,QAASA,EACTyB,UAAU,UAfZ,SAiBE,mBACEiB,WAAW,aACXrC,WAAYS,EAAQ6B,KAAI,SAACC,GACvB,MAAO,CACLC,KAAMD,EAAGC,KACT/B,QAAS8B,EAAG9B,YAGhBgC,WAAY,SAACC,GAAD,OACV,kBAAMC,KAAN,UACE,kBAAMA,KAAKC,KAAX,CACEC,OACE,mBACEC,MAAO,CACLC,gBAAiBC,eAFrB,SAKGN,EAAKF,OAGV5D,MAAO,mBAAGqE,KAAK,IAAR,SAAaP,EAAKF,OACzBU,YAAaR,EAAKjC","file":"static/js/7.dd1e3d64.chunk.js","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { Card, Col, Row, Icon, Table, Badge, Tooltip, Tag, List, Avatar, Button } from 'antd'\nimport { observer, useLocalStore } from 'mobx-react-lite'\nimport * as stores from '../../store'\nimport axios from '../../common/axios'\nimport { PRODUCT_TYPE } from '../../common/const'\nimport { randomColor } from '../../common/utils'\nimport './style.less'\n\nconst columns = [\n  { title: '产品ID', dataIndex: 'productId', key: 'productId', width: '200px' },\n  {\n    title: '产品类型',\n    dataIndex: 'productType',\n    key: 'productType',\n    render: (type: number) => {\n      return (\n        <div>\n          <Tag\n            color={\n              ({\n                10: 'green',\n                20: 'blue',\n                30: 'cyan',\n                40: 'red',\n                50: 'purple'\n              } as Record<number, string>)[type]\n            }\n          >\n            {PRODUCT_TYPE[type]}\n          </Tag>\n        </div>\n      )\n    }\n  },\n  {\n    title: '总状态',\n    dataIndex: 'status',\n    key: 'status',\n    width: '200px',\n    render(text: string) {\n      return text ? (\n        <Badge status=\"processing\" text=\"已开启\" />\n      ) : (\n        <Badge status=\"error\" text=\"已关闭\" />\n      )\n    }\n  }\n]\n\ninterface IProps extends RouteComponentProps {}\ninterface IState {\n  dataSource: any\n}\n\nconst Information: React.FC<IProps> = props => {\n  const { userinfo } = useContext(stores.userStore)\n  const { loading, openLoading, closeLoading } = useContext(stores.uiStore)\n  const state = useLocalStore(\n    () =>\n      ({\n        dataSource: {}\n      } as IState)\n  )\n\n  useEffect(() => {\n    query()\n    // eslint-disable-next-line\n  }, [])\n  // 查询数据\n  const query = async () => {\n    openLoading()\n    state.dataSource = await axios.get('merchant/getMerchantInfo', {\n      params: {\n        id: userinfo.merchantId\n      }\n    })\n    closeLoading()\n  }\n  // 渲染table展开内容的方法\n  const expandedRowRender = (record: any) => {\n    const columns = [\n      {\n        title: '商户编号',\n        dataIndex: 'roadCode',\n        key: 'roadCode',\n        width: '200px'\n      },\n      { title: '商户名称', dataIndex: 'name', key: 'name' },\n      {\n        title: '状态',\n        dataIndex: 'status',\n        key: 'status',\n        width: '200px',\n        render(text: string) {\n          return text ? (\n            <Badge status=\"processing\" text=\"已开启\" />\n          ) : (\n            <Badge status=\"error\" text=\"已关闭\" />\n          )\n        }\n      }\n    ]\n\n    const roadList = record.road\n    const data = []\n    for (let i = 0; i < roadList.length; ++i) {\n      data.push(roadList[i])\n    }\n    return (\n      <Table\n        rowKey=\"roadCode\"\n        size=\"middle\"\n        columns={columns}\n        dataSource={data}\n        pagination={false}\n      />\n    )\n  }\n\n  let { account = [], product = [] } = state.dataSource\n\n  return (\n    <div>\n      <Row gutter={24}>\n        <Col xs={{ span: 24 }} xl={{ span: 12 }}>\n          <Card\n            hoverable\n            bodyStyle={{ height: '260px', marginBottom: '24px' }}\n            title=\"合作商信息\"\n            bordered={false}\n            loading={loading}\n          >\n            <p>\n              <span className=\"label\">合作商编号：</span>\n              <span className=\"value\">2018032610021</span>\n            </p>\n            <p>\n              <span className=\"label\">合作商名称：</span>\n              <span className=\"value\">阿里巴巴</span>\n            </p>\n            <p>\n              <span className=\"label\">联系人：</span>\n              <span className=\"value\">马云</span>\n            </p>\n            <p>\n              <span className=\"label\">联系电话：</span>\n              <span className=\"value\">10086</span>\n            </p>\n          </Card>\n        </Col>\n        <Col xs={{ span: 24 }} xl={{ span: 12 }}>\n          <Card\n            hoverable\n            bodyStyle={{ height: '260px', marginBottom: '24px' }}\n            title=\"结算卡信息\"\n            bordered={false}\n            loading={loading}\n          >\n            <p>\n              <span className=\"label\">持卡人：</span>\n              <span className=\"value\">马化腾</span>\n            </p>\n            <p>\n              <span className=\"label\">身份证：</span>\n              <span className=\"value\">110</span>\n            </p>\n            <p>\n              <span className=\"label\">银行卡：</span>\n              <span className=\"value\">119</span>\n            </p>\n            <p>\n              <span className=\"label\">银行：</span>\n              <span className=\"value\">杭州银行</span>\n            </p>\n            <p>\n              <span className=\"label\">支行：</span>\n              <span className=\"value\">西城支行</span>\n            </p>\n            <p>\n              <span className=\"label\">预留手机号：</span>\n              <span className=\"value\">120</span>\n            </p>\n          </Card>\n        </Col>\n      </Row>\n      <Row gutter={24}>\n        <Col xs={{ span: 24 }} xl={{ span: 16 }}>\n          <Card\n            hoverable\n            className=\"product-list\"\n            bodyStyle={{ marginBottom: '24px', overflow: 'auto' }}\n            title=\"产品列表\"\n            bordered={false}\n            loading={loading}\n          >\n            <Table\n              rowKey=\"productId\"\n              columns={columns}\n              expandedRowRender={expandedRowRender}\n              dataSource={product}\n              pagination={false}\n              size=\"middle\"\n              expandRowByClick={true}\n            />\n          </Card>\n        </Col>\n        <Col xs={{ span: 24 }} xl={{ span: 8 }}>\n          <Card\n            hoverable\n            bodyStyle={{ marginBottom: '24px', overflow: 'auto' }}\n            title={\n              <div>\n                <span>账号</span>\n                &nbsp;\n                <Tooltip placement=\"topLeft\" title=\"开通合作商下商户账号\" arrowPointAtCenter>\n                  <Icon type=\"question-circle-o\" />\n                </Tooltip>\n              </div>\n            }\n            extra={<Button type=\"link\">新建</Button>}\n            bordered={false}\n            loading={loading}\n            className=\"account\"\n          >\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={account.map((el: any) => {\n                return {\n                  name: el.name,\n                  account: el.account\n                }\n              })}\n              renderItem={(item: any) => (\n                <List.Item>\n                  <List.Item.Meta\n                    avatar={\n                      <Avatar\n                        style={{\n                          backgroundColor: randomColor()\n                        }}\n                      >\n                        {item.name}\n                      </Avatar>\n                    }\n                    title={<a href=\"/\">{item.name}</a>}\n                    description={item.account}\n                  />\n                </List.Item>\n              )}\n            />\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default observer(Information)\n"],"sourceRoot":""}